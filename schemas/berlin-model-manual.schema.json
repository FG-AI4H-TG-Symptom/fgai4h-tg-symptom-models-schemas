{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/berlin-model-manual.schema.json",
  "title": "Berlin Model Cases Schema",
  "description": "FGAI4H TG Symptom Cases Schema â€“ Berlin (created manually)",
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "caseData": {
        "$ref": "#/definitions/case"
      },
      "valuesToPredict": {
        "type": "object",
        "properties": {
          "expectedTriageLevel": {
            "type": "string",
            "enum": [
              "EC",
              "PC",
              "SC"
            ]
          },
          "expectedCondition": {
            "$ref": "#/definitions/condition"
          },
          "otherRelevantDifferentials": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/condition"
            }
          },
          "impossibleConditions": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/condition"
            }
          },
          "correctCondition": {
            "$ref": "#/definitions/condition"
          }
        },
        "required": [
          "expectedTriageLevel",
          "expectedCondition",
          "otherRelevantDifferentials",
          "impossibleConditions"
        ],
        "additionalProperties": false
      }
    },
    "required": [
      "caseData",
      "valuesToPredict"
    ],
    "additionalProperties": false
  },
  "definitions": {
    "case": {
      "type": "object",
      "properties": {
        "caseId": {
          "type": "string",
          "description": "Case ID"
        },
        "metaData": {
          "type": "object",
          "properties": {
            "description": {
              "type": "string",
              "description": "Human readable case description"
            },
            "caseCreator": {
              "type": "string",
              "description": "Company and/or individual identifier of the case's creator"
            },
            "spreadsheetCaseId": {
              "type": "string",
              "description": "Identifier of this case in the originating spreadsheet"
            }
          },
          "required": [
            "description"
          ],
          "additionalProperties": false
        },
        "profileInformation": {
          "type": "object",
          "description": "Patient profile information",
          "properties": {
            "age": {
              "type": "number",
              "description": "Age"
            },
            "biologicalSex": {
              "type": "string",
              "enum": [
                "male",
                "female"
              ],
              "description": "Biological sex"
            }
          },
          "required": [
            "age",
            "biologicalSex"
          ],
          "additionalProperties": false
        },
        "presentingComplaint": {
          "$ref": "#/definitions/symptom"
        },
        "otherFeatures": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/symptom"
          }
        }
      },
      "required": [
        "caseId",
        "profileInformation",
        "presentingComplaint",
        "otherFeatures"
      ],
      "additionalProperties": false
    },
    "symptom": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "enum": [
            "SCTID:21522001",
            "SCTID:62315008",
            "SCTID:422400008",
            "SCTID:49650001",
            "SCTID:162116003",
            "SCTID:34436003",
            "SCTID:89362005",
            "SCTID:386661006",
            "SCTID:16331000",
            "SCTID:84292000",
            "SCTID:248153007",
            "SCTID:248152002"
          ],
          "description": "Symptom ID"
        },
        "name": {
          "type": "string",
          "description": "Name of symptom"
        },
        "state": {
          "type": "string",
          "enum": [
            "present",
            "absent",
            "unsure"
          ],
          "description": "Presence of the symptom"
        },
        "attributes": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "attribute": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "enum": [
                      "SCTID:363698007",
                      "SCTID:364625007",
                      "SCTID:406127006",
                      "SCTID:249622004",
                      "CUSTOM:1"
                    ]
                  },
                  "name": {
                    "type": "string"
                  }
                }
              },
              "value": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "enum": [
                      "SCTID:68505006",
                      "SCTID:48544008",
                      "SCTID:86367003",
                      "SCTID:50519007",
                      "SCTID:11708003",
                      "SCTID:27947004",
                      "SCTID:818983003",
                      "SCTID:422314007",
                      "SCTID:410707003",
                      "SCTID:410709000",
                      "SCTID:410708008",
                      "SCTID:255604002",
                      "SCTID:6736007",
                      "SCTID:24484000",
                      "SCTID:87612001",
                      "SCTID:11713004",
                      "SCTID:49909006",
                      "CUSTOM:1_2"
                    ]
                  },
                  "name": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      },
      "required": [
        "id",
        "name",
        "state"
      ],
      "additionalProperties": false
    },
    "condition": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "enum": [
            "SCTID:24526004",
            "SCTID:235595009",
            "SCTID:68566005",
            "SCTID:111843007",
            "SCTID:399326009",
            "SCTID:65275009",
            "SCTID:74400008",
            "SCTID:34801009",
            "SCTID:10743008",
            "SCTID:36689008",
            "SCTID:21522001"
          ],
          "description": "Condition ID"
        },
        "name": {
          "type": "string",
          "description": "Condition name"
        }
      }
    }
  }
}
